<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bc.pmpheep.back.authadmin.materialSurvey.dao.MaterialSurveyDao">

    <select id="getSurveyByMaterialId" parameterType="java.lang.Long" resultType="MaterialSurvey">
	  	select * from material_survey where material_id=#{materIalId}
	</select>


    <select id="getSurveyQuestionBySurveyId" parameterType="java.lang.Long"  resultType="MaterialSurveyQuestion" >
		select * from material_survey_question where survey_id=#{surveyId}
	</select>

	<select id="getSurveyQuestionOptionByQuestionId"  parameterType="java.lang.Long"  resultType="MaterialSurveyQuestionOption">

		select  * from material_survey_question_option where  question_id=#{questionId}
	</select>
	<insert id="insertQuestionAnswer" parameterType="java.util.List" >
		insert into material_survey_question_answer(user_id,user_type, question_id, option_id, option_content, gmt_create, survey_id) values
		<foreach item="item" collection="list" index="index" separator=",">
			(#{item.userId},#{item.userType},#{item.questionId},#{item.optionId},#{item.optionContent},#{item.gmtCreate},#{item.surveyId})

		</foreach>
	</insert>


</mapper>